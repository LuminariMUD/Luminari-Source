# Known Issues

Intentional exceptions and legacy technical debt tracked by the audit system.

## Formatting (clang-format)

### Legacy Codebase Debt

**Scope**: All of `src/**/*.c` and `src/**/*.h`

**Issue**: The LuminariMUD codebase predates clang-format enforcement. Approximately 118,000+ formatting violations exist in legacy code.

**Resolution Strategy**:
1. Do NOT auto-format the entire codebase at once (too disruptive)
2. Format files incrementally when making substantive changes
3. New code must pass clang-format before commit (enforced via pre-commit hooks)
4. Consider a dedicated "format sweep" PR after major feature work completes

**Ignore Patterns**:
- `src/**` - Legacy formatting not enforced retroactively

## Linting (clang-tidy)

### Disabled Checks

The following checks are intentionally disabled in `.clang-tidy`:

- `bugprone-macro-parentheses` - MUD codebase uses macros extensively in expected patterns
- `bugprone-reserved-identifier` - Legacy naming conventions
- `bugprone-easily-swappable-parameters` - Common in game dev APIs
- `clang-analyzer-security.insecureAPI.DeprecatedOrUnsafeBufferHandling` - Uses snprintf, acceptable
- `clang-analyzer-security.insecureAPI.strcpy` - Legacy code, gradually migrating

## Testing (CuTest)

### Test Warnings

**File**: `unittests/CuTest/test_vessel_types.c`

**Issue**: Minor const-discard warnings in pointer comparisons with CuAssertPtrEquals

**Resolution**: Acceptable - CuTest API limitation, does not affect test correctness

## Build (CMake cutest target)

### Legacy Integration Tests

**Scope**: `unittests/CuTest/test.interpreter.c`, `unittests/CuTest/test_bounds_checking.c`

**Issue**: CMake `cutest` target fails to link - these legacy integration tests reference functions (`three_arguments`, `three_arguments_u`, `get_wearoff`) that require linking against the main library, but CMake target doesn't include proper linking.

**Impact**: None - main binary `bin/circle` builds successfully. Standalone unit tests in `unittests/CuTest/` work correctly via Makefile.

**Resolution Strategy**:
1. Either fix CMake linking for cutest target
2. Or exclude legacy integration tests from CMake build
3. Continue using standalone Makefile tests (currently functional)

---

*Last updated: 2025-12-30*
*Generated by /audit command*
